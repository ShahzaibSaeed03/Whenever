version: 1
frontend:
  phases:
    preBuild:
      commands:
        - echo "Installing Node.js v20..."
        - nvm install 20  # Install Node.js v20
        - nvm use 20      # Use Node.js v20
        - node -v         # Verify Node version
        - npm install     # Install dependencies
    build:
      commands:
        - echo "Building Angular app..."
        - npm run build   # Build Angular app
  artifacts:
    # Specify the folder where the build artifacts are located
    baseDirectory: dist/gen-certificate/browser  # Replace 'your-app-name' with the actual output folder name
    files:
      - '**/*'  # Include all files in the dist directory
  cache:
    paths:
      - node_modules/**/*  # Cache node_modules to speed up future builds
