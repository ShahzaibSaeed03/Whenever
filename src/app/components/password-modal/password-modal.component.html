<!-- Modal Background -->
<div *ngIf="visible" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4">
  <div class="bg-white rounded-xl shadow-xl w-full max-w-md p-6 sm:p-8 relative">

    <!-- Modal Title -->
    <h2 class="text-xl font-semibold text-gray-800 flex items-center gap-2 mb-4">
      <i class="fas fa-lock text-blue-600 text-lg"></i>
      Protect: <span class="truncate">{{ workTitle }}</span>
    </h2>

    <!-- Label -->
    <label class="block text-sm text-gray-700 mb-1">Set a Password:</label>

    <!-- Password Input with Toggle Icon -->
    <div class="relative mb-4">
      <input
        [(ngModel)]="password"
        [type]="showPassword ? 'text' : 'password'"
        class="w-full border border-gray-300 rounded-md px-4 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="Enter a password"
      />
      <button
        type="button"
        (click)="togglePassword()"
        class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none"
      >
        <i [ngClass]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
      </button>
    </div>

    <!-- Action Buttons -->
    <div class="flex justify-end gap-2 pt-2">
      <button
        (click)="close.emit()"
        class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-md text-sm flex items-center gap-1"
      >
        <i class="fas fa-times-circle text-base"></i>
        Cancel
      </button>

      <button
        (click)="handleSave()"
        class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm flex items-center gap-1"
      >
        <i class="fas fa-save text-base"></i>
        Save
      </button>
    </div>
  </div>
</div>
