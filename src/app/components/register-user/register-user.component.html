<div class="bg-[#d5e8ef] min-h-screen p-1">

  <div class="bg-[#466e92] text-red-500 font-bold px-4 py-2 uppercase mx-1">
    SIGN UP
  </div>

  <div class="max-w-6xl mx-auto mt-6 text-[#3f5f78] text-sm space-y-1">
    <p>
      Please enter your personal details and billing address.</p>
    <p> Once your payment is validated, you will be able to upload your work.</p>

    <p>If you are facing a problem while registering, please send an email to.</p>
  </div>

  <div class="max-w-6xl mx-auto mt-6 border border-[#3f5f78] rounded-xl p-6">

    <form [formGroup]="form" (ngSubmit)="submit()" class="grid lg:grid-cols-2 gap-8">

      <!-- ================= LEFT PERSONAL ================= -->
      <div>
        <h2 class="sectionTitle">Personal Details:</h2>

        <div class="space-y-3">

          <div class="fieldRow">
            <label class="label">First Name <span class="star">*</span></label>
            <input class="input" autocomplete="off" formControlName="firstName" />
          </div>

          <div class="fieldRow">
            <label class="label">Last Name <span class="star">*</span></label>
            <input class="input" autocomplete="off" formControlName="lastName" />
          </div>

          <div class="fieldRow">
            <label class="label">
              Company Name <span class="star">*</span> or Owner Name
            </label>
            <input class="input" autocomplete="off" formControlName="companyName" />
          </div>

          <div class="fieldRow">
            <label class="label">Owner Name</label>
            <input class="input" autocomplete="off" formControlName="ownerName" />
          </div>

          <div class="fieldRow">
            <label class="label">Address Line 1 <span class="star">*</span></label>
            <input class="input" autocomplete="off" formControlName="addressLine1" />
          </div>

          <div class="fieldRow">
            <label class="label">Address Line 2</label>
            <input class="input" autocomplete="off" formControlName="addressLine2" />
          </div>

          <div class="fieldRow">
            <label class="label">Zip Code <span class="star">*</span></label>
            <input class="input" autocomplete="off" formControlName="zip" />
          </div>

          <div class="fieldRow">
            <label class="label">City <span class="star">*</span></label>
            <input class="input" autocomplete="off" formControlName="city" />
          </div>

          <div class="fieldRow">

            <label class="label">
              State / Region
              <span class="star" *ngIf="form.value.country==='USA'">*</span>
            </label>

            <!-- dropdown -->
            <select *ngIf="form.value.country==='USA'" class="input" autocomplete="off" formControlName="state">
              <option value="">Select state</option>
              <option *ngFor="let s of usStates" [value]="s">{{s}}</option>
            </select>

            <!-- text -->
            <input *ngIf="form.value.country!=='USA'" class="input" autocomplete="off" formControlName="state" />

          </div>

          <div class="fieldRow">
            <label class="label">Country <span class="star">*</span></label>
            <input class="input" autocomplete="off" formControlName="country" />
          </div>

          <div class="fieldRow">
            <label class="label">Phone number</label>
            <input class="input" autocomplete="off" formControlName="phone" />
          </div>

          <div class="fieldRow">
            <label class="label">Profession</label>
            <input class="input" autocomplete="off" formControlName="profession" />
          </div>

          <div class="fieldRow">
            <label class="label">How did you hear about us?</label>
            <input class="input" autocomplete="off" formControlName="refSource" />
          </div>

          <div class="fieldRow">
            <label class="label">Email <span class="star">*</span></label>
            <input class="input" autocomplete="off" formControlName="email" />
          </div>

          <div class="fieldRow">
            <label class="label">Confirm Email <span class="star">*</span></label>
            <input class="input" autocomplete="off" formControlName="confirmEmail" />
          </div>

          <div class="fieldRow">
            <label class="label">Password <span class="star">*</span></label>
            <div class="relative">
              <input [type]="showPassword ? 'text':'password'" class="input pr-14" autocomplete="off"
                formControlName="password" />
              <span class="showBtn cursor-pointer ml-3" (click)="togglePassword()">SHOW</span>
            </div>
          </div>

        </div>
      </div>

      <!-- ================= RIGHT BILLING ================= -->
      <div class="lg:border-l lg:border-[#3f5f78] lg:pl-8">
        <h2 class="sectionTitle">Billing Address:</h2>

        <div class="space-y-3">

          <div class="fieldRow">
            <label class="label">Company</label>
            <input class="input" autocomplete="off" formControlName="billingCompany" />
          </div>

          <div class="fieldRow">
            <label class="label">Name</label>
            <input class="input" autocomplete="off" formControlName="billingName" />
          </div>

          <div class="fieldRow">
            <label class="label">VAT number</label>
            <input class="input" autocomplete="off" formControlName="vatNumber" />
          </div>

          <div class="flex items-center gap-2 text-sm">
            <input type="checkbox" autocomplete="off" formControlName="billingSameAsPersonal" />
            Same as personal
          </div>

          <div class="fieldRow">
            <label class="label">Address Line 1 <span class="star">*</span></label>
            <input class="input" autocomplete="off" formControlName="billingAddress1" />
          </div>

          <div class="fieldRow">
            <label class="label">Address Line 2</label>
            <input class="input" autocomplete="off" formControlName="billingAddress2" />
          </div>

          <div class="fieldRow">
            <label class="label">Zip Code <span class="star">*</span></label>
            <input class="input" autocomplete="off" formControlName="billingZip" />
          </div>

          <div class="fieldRow">
            <label class="label">City <span class="star">*</span></label>
            <input class="input" autocomplete="off" formControlName="billingCity" />
          </div>

          <div class="fieldRow">
            <label class="label">State / Region</label>
            <input class="input" autocomplete="off" formControlName="billingState" />
          </div>

          <div class="fieldRow">
            <label class="label">Country <span class="star">*</span></label>
            <input class="input" autocomplete="off" formControlName="billingCountry" />
          </div>

          <div class="fieldRow">
            <label class="label">Phone number</label>
            <input class="input" autocomplete="off" formControlName="billingPhone" />
          </div>

        </div>
      </div>

      <!-- SUBMIT -->
      <div class="col-span-2 flex justify-center mt-6">
        <button type="submit" class="bg-[#3f5f78] text-white px-10 py-2 rounded-lg">
          SAVE
        </button>
      </div>

    </form>

  </div>
  <div class="max-w-6xl mx-auto text-[#466d94] text-sm space-y-4 mt-10 mb-6">

    <p>
      <span class="font-semibold uppercase">
        Your subscription:
      </span>
      "one-year subscription and five tokens", 45usd
    </p>

    <p>
      You are covered by our 14-day money-back guarantee.
    </p>

    <p>
      You will be billed every year, unless you cancel.
      You can cancel at any time.
    </p>

    <p>
      If you want to buy additional tokens, at 1usd each,
      please select a quantity (from 5 to 100):
    </p>

    <p>
      If you want to buy additional tokens, at 1usd each,
      please select a quantity (from 5 to 100):
    </p>

    <!-- INFO LINE -->
    <div class="flex items-center gap-2 text-[#466d94]">
      <span class="text-lg">ℹ️</span>
      <span>coupon benefits will appear here</span>
    </div>

    <!-- TERMS -->
    <p>
      By signing up, you agree to My Copyright Evidence's
      <a href="#" target="_blank" class="text-green-600 underline">
        Term of Service
      </a>
      and
      <a href="#" target="_blank" class="text-green-600 underline">
        Privacy Statement
      </a>.
    </p>

  </div>
</div>
<!-- CHECKOUT MODAL -->
<div *ngIf="showCheckout"
class="fixed inset-0 bg-black/50 z-50 flex items-start justify-center overflow-y-auto">

  <div class="bg-white w-[900px] max-w-[95%] rounded-xl shadow-xl relative my-10 max-h-[90vh] flex flex-col">

    <!-- CLOSE -->
    <button class="absolute top-3 right-4 text-xl"
      (click)="closeCheckout()">✕</button>

    <!-- TITLE -->
    <div class="text-lg font-semibold p-6 border-b text-center">
      Complete subscription — billed yearly
    </div>

    <!-- LOADING -->
    <div *ngIf="loading" class="p-10 text-center text-gray-500">
      Loading checkout…
    </div>

    <!-- STRIPE AREA -->
    <div class="flex-1 overflow-y-auto p-6">
      <div id="subscription-checkout" class="min-h-[650px]"></div>
    </div>

  </div>
</div>